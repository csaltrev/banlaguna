"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#transactions-section"),t=document.querySelector("#bulk-modal"),n=document.querySelector("#single-modal"),o=document.querySelector("#accounts-modal"),a=document.querySelector("#user-modal"),r=document.querySelector("#new-account-modal"),c=document.querySelector("#user-modal table tbody"),i=document.querySelector("#user-modal p"),d=function(e){var t=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],o=new Date(e),a=o.getHours(),r=o.getMinutes();return n[o.getDay()]+", "+(t[o.getMonth()]+" "+o.getDate()+", "+o.getFullYear())+" @ "+((a<10?"0"+a:a)+":"+(r<10?"0"+r:r))},u=function(e){e.forEach(function(e){var t=document.createElement("tr"),n=document.createElement("th"),o=document.createElement("td"),a=document.createElement("td"),r=document.createElement("td"),i=document.createElement("td");n.textContent=e.id,o.textContent=e.receiver,a.textContent=e.concept,r.textContent=d(e.timestamp),i.textContent=parseFloat(e.quantity).toFixed(2),t.appendChild(n),t.appendChild(o),t.appendChild(a),t.appendChild(r),t.appendChild(i),c.appendChild(t)})},l=function(e){e.classList.add("is-active"),e.addEventListener("click",function(t){"cancel-btn"!==t.target.id&&"close-btn"!==t.target.id||(e.classList.remove("is-active"),"user-modal"===e.id&&(c.innerHTML="",i.textContent="Usuario"))})},s=function(){for(var e=[],t=document.querySelectorAll('[name="delete"]'),n=0;n<t.length;n++)t[n].checked&&e.push(t[n].value);console.log(e)};e.addEventListener("click",function(e){if(e.target.id.startsWith("user-")){var c=e.target.id.substr(5);fetch("/admin/user/"+c).then(function(e){return e.json()}).then(function(t){i.textContent=e.target.textContent,l(a),u(t)})}switch(e.target.id){case"bulk-btn":l(t),e.stopPropagation();break;case"single-btn":l(n),e.stopPropagation();break;case"accounts-btn":l(o),o.addEventListener("click",function(e){"create-btn"===e.target.id&&l(r)}),e.stopPropagation();break;case"delete-btn":s(),e.stopPropagation();break;default:e.stopPropagation()}})});
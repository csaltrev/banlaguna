"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#transactions-section"),t=document.querySelector("#bulk-modal"),n=document.querySelector("#single-modal"),o=document.querySelector("#accounts-modal"),r=document.querySelector("#user-modal"),a=document.querySelector("#new-account-modal"),c=document.querySelector("#user-modal table tbody"),i=document.querySelector("#user-modal p"),d=function(e){var t=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],o=new Date(e),r=o.getHours(),a=o.getMinutes();return n[o.getDay()]+", "+(t[o.getMonth()]+" "+o.getDate()+", "+o.getFullYear())+" @ "+((r<10?"0"+r:r)+":"+(a<10?"0"+a:a))},u=function(e){e.forEach(function(e){var t=document.createElement("tr"),n=document.createElement("th"),o=document.createElement("td"),r=document.createElement("td"),a=document.createElement("td"),i=document.createElement("td");n.textContent=e.id,o.textContent=e.receiver,r.textContent=e.concept,a.textContent=d(e.timestamp),i.textContent=parseFloat(e.quantity).toFixed(2),t.appendChild(n),t.appendChild(o),t.appendChild(r),t.appendChild(a),t.appendChild(i),c.appendChild(t)})},s=function(e){e.classList.add("is-active"),e.addEventListener("click",function(t){"cancel-btn"!==t.target.id&&"close-btn"!==t.target.id||(e.classList.remove("is-active"),"user-modal"===e.id&&(c.innerHTML="",i.textContent="Usuario"))})};e.addEventListener("click",function(e){if(e.target.id.startsWith("user-")){var c=e.target.id.substr(5);fetch("/admin/user/"+c).then(function(e){return e.json()}).then(function(t){i.textContent=e.target.textContent,s(r),u(t)})}switch(e.target.id){case"bulk-btn":s(t),e.stopPropagation();break;case"single-btn":s(n),e.stopPropagation();break;case"accounts-btn":s(o),o.addEventListener("click",function(e){"create-btn"===e.target.id&&s(a)}),e.stopPropagation();break;default:e.stopPropagation()}})});